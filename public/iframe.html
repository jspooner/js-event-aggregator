<!DOCTYPE html>
<html>
  <head>
    <title>EventManager</title>
    <script src="javascripts/event_manager.js"></script>
    <script type="text/javascript">
      (function() {
        window.onload = function() {
          var eventManager = new core.EventManager();
          var clickToken = eventManager.subscribe('click', function(payload) {
            console.log('--- iframe.html handle event ', payload);
          });
          eventManager.subscribe('onload', function(payload){
            console.log("THIS EVENT WAS SENT BY index.html and handled by iframe.html");
          });
          eventManager.publish('click', {'url':'http://iframe.com'});
          // eventManager.publish('click');
          // eventManager.unsubscribe('click', clickToken);
          // eventManager.publish('click', {'url':'http://iframe.com/this+should+not+be+fired'});
        }
      }());
    </script>
  </head>
  <body>
    <h1>iFrame</h1>
  </body>
</html>
