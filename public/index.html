<!DOCTYPE html>
<html>
  <head>
    <title>EventManager</title>
    <script src="javascripts/event_manager.js"></script>
    <script type="text/javascript">
      (function() {
        window.onload = function() {
          var eventManager = new core.EventManager();
          var clickToken = eventManager.subscribe('channel1', 'click', function(payload) { // ?? channel, message, payload or Notification object
            console.log('--- index.html handle event ', payload);
          });
          console.log("clickToken", clickToken);          
          eventManager.publish('channel1', 'click', {'url':'http://google.com'});
          eventManager.publish('channel2', 'click');
          eventManager.unsubscribe('channel1', 'click', clickToken);
          eventManager.publish('channel1', 'click', {'url':'http://google.com/this+should+not+be+fired'});
        }
      }());
    </script>
  </head>
  <body>
    
  </body>
</html>
